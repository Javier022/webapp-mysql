(this["webpackJsonpwebapp-mysql"]=this["webpackJsonpwebapp-mysql"]||[]).push([[0],{60:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(16),c=r.n(s),i=r(2),l=r(0),o=Object(n.createContext)(),u=function(e){var t=e.children,r=Object(n.useState)({}),a=Object(i.a)(r,2),s=a[0],c=a[1],u=Object(n.useState)({}),d=Object(i.a)(u,2),b=d[0],j=d[1],x=Object(n.useState)(""),m=Object(i.a)(x,2),h=m[0],p=m[1],f=Object(n.useState)([]),O=Object(i.a)(f,2),v=O[0],g=O[1],w=Object(n.useState)((function(){return window.localStorage.getItem("token")})),N=Object(i.a)(w,2),k=N[0],y=N[1],S={users:v,setUsers:g,token:k,setToken:y,signOut:function(){return window.localStorage.clear(),j({}),y(null)},tasks:s,setTasks:c,dataProfile:b,setDataProfile:j,getRol:function(e){var t=JSON.parse(atob(e.split(".")[1]));return p(t.rol_id),t.rol_id},setRol:p,rol:h};return Object(l.jsx)(o.Provider,{value:S,children:t})},d=r(14),b=(r(40),r(4)),j=r(6),x=r(7),m=r(3),h=r.n(m),p=r(5),f=r(18),O=r(32),v=r.n(O).a.create({baseURL:"https://mysql-api-hrz09.herokuapp.com",headers:{"Content-Type":"application/json"}});v.interceptors.request.use((function(e){var t=window.localStorage.getItem("token");return t&&(e.headers["auth-token"]=t),e}),(function(e){return Promise.reject(e)})),v.interceptors.response.use((function(e){return e}),function(){var e=Object(p.a)(h.a.mark((function e(t){var r,n,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/login"===(r=t.config).url||"/auth/google"===r.url||!t.response){e.next=20;break}if(401!==t.response.status||r._retry){e.next=20;break}return r._retry=!0,e.prev=4,n=window.localStorage.getItem("refresh"),e.next=8,v({method:"POST",url:"/refresh-token",headers:{refresh:n}});case 8:if(200!==(a=e.sent).status){e.next=13;break}return s=a.data.token,window.localStorage.setItem("token",s),e.abrupt("return",v(r));case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),window.localStorage.clear(),window.location.href="/login",e.abrupt("return",Promise.reject(e.t0));case 20:return e.abrupt("return",Promise.reject(t));case 21:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}());var g=v,w=function(e){var t=e.children;return Object(l.jsx)("div",{className:"bg-white fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden flex flex-col items-center justify-center",children:t})},N=(r(60),function(e){var t=e.size,r=void 0===t?12:t,n=e.mb,a=void 0===n?4:n,s=e.border,c=void 0===s?4:s;return Object(l.jsx)("div",{className:"loader ease-linear rounded-full border-".concat(c," border-t-").concat(c," border-gray-200 h-").concat(r," w-").concat(r," mb-").concat(a)})}),k=function(e){var t=e.text;return Object(l.jsx)("p",{className:"text-center w-full text-2xl mb-4",children:t})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0!==Object.values(e).length},S=["children"],C=function(e){var t=e.children,r=Object(f.a)(e,S),a=Object(n.useContext)(o),s=a.token,c=a.getRol,u=a.setDataProfile,d=Object(n.useState)(!1),b=Object(i.a)(d,2),m=b[0],O=b[1],v=Object(n.useState)(!1),C=Object(i.a)(v,2),_=C[0],I=C[1],P=function(){var e=Object(p.a)(h.a.mark((function e(){var t,r,n,a=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,g.get("/profile");case 4:if(200!==(r=e.sent).status||!0!==r.data.success){e.next=10;break}if(n=r.data.data,!y(n)){e.next=10;break}return u(n),e.abrupt("return",I(!0));case 10:e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(1),!(t>3)){e.next=16;break}return e.abrupt("return",O(!0));case 16:return e.abrupt("return",P(t+1));case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),T=function(){return m?Object(l.jsxs)(w,{children:[Object(l.jsx)(k,{text:"500 Internal Server Error"}),Object(l.jsx)("button",{onClick:function(){return window.location.reload()},className:"mt-2 text-blue-700",children:"reload page"})]}):_?t:Object(l.jsxs)(w,{children:[Object(l.jsx)(N,{}),Object(l.jsx)("h2",{className:"text-blue-900 text-center text-xl font-semibold",children:"Todo App"})]})};return Object(n.useEffect)((function(){s&&(P(),c(s))}),[]),Object(l.jsx)(j.b,Object(x.a)(Object(x.a)({},r),{},{render:function(e){var t=e.location;return s?T():Object(l.jsx)(j.a,{to:{pathname:"/login",state:{from:t}}})}}))},_=function(){return Object(n.useContext)(o)},I=["children"],P=function(e){var t=e.children,r=Object(f.a)(e,I),n=_();return Object(l.jsx)(j.b,Object(x.a)(Object(x.a)({},r),{},{render:function(e){var r=e.location;return n.token?Object(l.jsx)(j.a,{to:{pathname:"/home",state:{from:r}}}):t}}))},T=[{caption:"Sign in",href:"/login"},{caption:"Sign up",href:"/signup"}],A=[{caption:"Home",href:"/home"},{caption:"Add task",href:"/create"},{caption:"Profile",href:"/Profile"}],F=function(){var e=Object(n.useContext)(o),t=e.token,r=e.rol,a=e.signOut,s=e.isOpen,c=t?A:T;return Object(l.jsx)(l.Fragment,{children:s&&Object(l.jsx)("div",{className:"md:hidden",id:"mobile-menu",children:Object(l.jsxs)("div",{className:"bg-gradient-to-b from-blue-900 to-blue-800 px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[1===r&&Object(l.jsx)(b.b,{to:"/dashboard",className:"text-white hover:bg-blue-700 hover:text-white px-3 py-2 rounded-md  font-medium",children:"Dashboard"}),c.map((function(e,t){return Object(l.jsx)(b.b,{to:e.href,className:"text-white hover:bg-blue-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:e.caption},t)})),t&&Object(l.jsx)("button",{onClick:function(){return a()},className:"text-white hover:bg-blue-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"Sign out"})]})})})},z=(r(66),function(e){var t=e.isOpen,r=e.setIsOpen;return Object(l.jsx)("div",{className:"-mr-2 flex md:hidden",children:Object(l.jsxs)("button",{onClick:function(){return r(!t)},type:"button",className:"bg-blue-700 inline-flex items-center justify-center p-2 rounded-md text-white hover:text-white hover:bg-blue-900","aria-controls":"mobile-menu","aria-expanded":"false",children:[Object(l.jsx)("span",{className:"sr-only",children:"Open main menu"}),t?Object(l.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):Object(l.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})}),L=[{caption:"App",href:"/"}],q=[{caption:"Home",href:"/home"},{caption:"Add Task",href:"/create"}],H=function(){var e,t=Object(n.useContext)(o),r=t.token,a=t.rol,s=t.dataProfile,c=t.signOut,i=t.isOpen,u=t.setIsOpen,d=r?q:L;return Object(l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(l.jsxs)("div",{className:"flex items-center justify-between h-16",children:[Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsx)("div",{className:"flex-shrink-0",children:Object(l.jsx)("img",{className:"h-8 w-8",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",alt:"Workflow"})}),Object(l.jsx)("div",{className:"hidden md:block",children:Object(l.jsxs)("div",{className:"ml-10 flex items-baseline space-x-4",children:[1===a&&Object(l.jsx)(b.b,{to:"/dashboard",className:"text-white hover:bg-blue-700 hover:text-white px-3 py-2 rounded-md  font-medium",children:"Dashboard"}),d.map((function(e,t){return Object(l.jsx)(b.b,{to:e.href,className:"text-white hover:bg-blue-700 hover:text-white px-3 py-2 rounded-md  font-medium",children:e.caption},t)}))]})})]}),r?Object(l.jsxs)("div",{className:"relative inline-block text-left dropdown",children:[Object(l.jsx)("div",{className:"hidden md:block ml-3 relative",children:Object(l.jsx)("button",{type:"button",className:"bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",id:"user-menu-button","aria-expanded":"false","aria-haspopup":"true",children:Object(l.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-white overflow-hidden",children:s.picture?Object(l.jsx)("img",{className:"object-cover",src:s.picture,alt:"user avatar"}):Object(l.jsx)("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-900 to-blue-700",children:null===(e=s.username)||void 0===e?void 0:e[0].toUpperCase()})})})}),Object(l.jsx)("div",{className:"opacity-0 invisible dropdown-menu transition-all duration-300 transform origin-top-right -translate-y-2 scale-95",children:Object(l.jsxs)("div",{className:"absolute right-0 w-56 mt-2 origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg outline-none","aria-labelledby":"headlessui-menu-button-1",id:"headlessui-menu-items-117",role:"menu",children:[Object(l.jsxs)("div",{className:"px-4 py-3",children:[Object(l.jsx)("p",{className:"text-sm leading-5",children:"Signed in as"}),Object(l.jsx)("p",{className:"text-sm font-medium leading-5 text-gray-900 truncate",children:s.email})]}),Object(l.jsxs)("div",{className:"py-1",children:[Object(l.jsx)(b.b,{to:"/profile",tabIndex:"0",className:"hover:bg-blue-700 hover:text-white text-gray-700 flex justify-between w-full px-4 py-2 text-sm leading-5 text-left",role:"menuitem",children:"Your profile"}),Object(l.jsx)("span",{role:"menuitem",tabIndex:"-1",className:"flex justify-between w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 cursor-not-allowed opacity-50","aria-disabled":"true",children:"New feature (soon)"})]}),Object(l.jsx)("div",{className:"py-1",children:Object(l.jsx)("button",{className:"hover:bg-blue-700 hover:text-white text-gray-700 flex justify-between w-full px-4 py-2 text-sm leading-5 text-left",onClick:function(){return c()},children:"Sign out"})})]})})]}):Object(l.jsxs)("div",{className:"hidden md:flex items-center space-x-3 ",children:[Object(l.jsx)(b.b,{to:"/login",className:"py-2 px-4 font-medium hover:bg-blue-700 text-white rounded  transition duration-300",children:"Sign In"}),Object(l.jsx)(b.b,{to:"/signup",className:"py-2 px-4 font-medium hover:text-gray-200 text-white border rounded  transition duration-300",children:"Sign Up"})]}),Object(l.jsx)(z,{isOpen:i,setIsOpen:u})]})})},U=function(){return Object(l.jsxs)("nav",{className:"bg-blue-900",children:[Object(l.jsx)(H,{}),Object(l.jsx)(F,{})]})},D=function(e){var t=e.children,r=e.center,n=void 0!==r&&r,a=e.showNavigation,s=void 0===a||a,c=e.height,i=void 0===c?"screen":c;return Object(l.jsxs)(l.Fragment,{children:[s&&Object(l.jsx)(U,{}),Object(l.jsx)("main",{className:"h-".concat(i," w-3/4 mx-auto flex flex-col items-center \n      ").concat(n?"justify-center":""),children:t})]})},E=function(e){var t=e.fn,r=e.name,n=e.refButton,a=e.color,s=void 0===a?"":a,c=e.type,i=void 0===c?"":c,o=e.textColor,u=void 0===o?"":o;return Object(l.jsx)("button",{ref:n,onClick:t&&t,className:"\n      ".concat(s||"bg-blue-900"," \n      ").concat(u||"text-white","\n      w-full font-bold  py-2 px-4 rounded-md flex-initial"),type:i,children:r})},B=function(e){var t=e.children;return Object(l.jsx)("div",{className:"bg-white bg-opacity-25 absolute h-full w-full flex justify-center items-center",children:t})},M=function(e){var t=e.text,r=e.mt,n=void 0===r?0:r;return Object(l.jsx)("h1",{className:"mt-".concat(n," text-blue-900 font-bold text-3xl text-center"),children:t})},R=function(e){var t=e.id,r=e.title,a=e.description,s=e.fn,c=Object(n.useState)(!1),o=Object(i.a)(c,2),u=o[0],d={id:t,setLoadingUser:o[1]};return Object(l.jsxs)("div",{className:"w-full p-4 mb-8 mx-auto border bg-white rounded-lg shadow flex items-center",children:[Object(l.jsx)("div",{className:"flex-1",children:Object(l.jsxs)(b.b,{to:"/task/".concat(t),children:[Object(l.jsx)("div",{className:"text-blue-900 text-xl font-medium text-black",children:r}),Object(l.jsx)("p",{className:"text-gray-500",children:a})]})}),Object(l.jsx)("div",{className:"flex-initial ",children:u?Object(l.jsx)(N,{size:6,mb:0,border:2}):Object(l.jsx)("button",{onClick:function(){return s(d)},className:"text-xs bg-red-600 text-white rounded p-1",children:"delete"})})]})},W=function(e,t){"success"===e?d.b.success(t):"warning"===e?d.b.warn(t):"info"===e?d.b.info(t):"error"===e&&d.b.error(t)},J=r(17),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce((function(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(J.a)({},t.id,t))}),{});return t},G=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),r=t[0],a=t[1],s=Object(n.useContext)(o),c=s.tasks,u=s.setTasks,d=function(){var e=Object(p.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.setLoadingUser,e.prev=1,n(!0),e.next=5,g.delete("/tasks/".concat(r));case 5:200===(a=e.sent).status&&a.data.success&&(n(!1),delete c[r],u(Object(x.a)({},c)),W("success","task deleted")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n(!1),W("error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(h.a.mark((function e(){var t,r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,g.get("/tasks");case 4:if(200!==(t=e.sent).status||!0!==t.data.success){e.next=12;break}if(a(!1),r=t.data.tasks,!Array.isArray(r)||0===r.length){e.next=11;break}return n=$(r),e.abrupt("return",u(n));case 11:u({});case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),a(!1),W("error",e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j()}),[]),Object(l.jsxs)(D,{height:"full",children:[Object(l.jsxs)("div",{className:"relative  m-8 w-full flex items-center justify-center",children:[Object(l.jsx)(M,{text:"All your tasks"}),Object(l.jsx)(b.b,{className:"hidden  absolute block right-0 top-0",to:"/create",children:Object(l.jsx)(E,{name:"add a task"})})]}),r?Object(l.jsx)(B,{children:Object(l.jsx)(N,{})}):function(){var e=Object.values(c);return e&&0!==e.length?e.map((function(e){return Object(l.jsx)(R,Object(x.a)(Object(x.a)({},e),{},{fn:function(e){return d(e)}}),e.id)})):Object(l.jsx)(b.b,{to:"/create",className:"text-lg text-gray-400 font-semibold",children:"add your first task"})}()]})},V=function(e){var t=e.label,r=e.placeHolder,n=e.handleChange,a=e.error,s=e.value,c=void 0===s?"":s,i=e.focus,o=void 0!==i&&i,u=e.type,d=void 0===u?"text":u;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:t}),Object(l.jsx)("input",{className:"shadow appearance-none border\n        ".concat(a&&"border-red-500","\n        ").concat(a?"focus:border-red-500":"focus:border-blue-500","\n        rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"),autoFocus:o,type:d,placeholder:r,value:c,onChange:n}),Object(l.jsx)("p",{className:"text-red-500",children:Object(l.jsx)("small",{children:a&&a})})]})},Y=function(e){var t=e.children,r=e.handleSubmit,n=e.mt,a=void 0===n?8:n;return Object(l.jsx)("div",{className:"mt-".concat(a,"  w-full max-w-xs"),children:Object(l.jsx)("form",{className:"bg-white border shadow-md rounded-lg px-8 pt-6 pb-8 mb-4",onSubmit:r,children:t})})},K=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n={};return e.trim()||(n.title="title required"),"update"!==r||t.trim()?"update"===r&&t.length<2&&(n.description="must be greater than 2 characters"):n.description="description required",n},Q=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6,s={};return e.trim()?("login"===r||"register"===r)&&e.length<a&&(s.field=n):s.field=t,s},X=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(""),c=Object(i.a)(s,2),o=c[0],u=c[1],d=Object(n.useState)({}),b=Object(i.a)(d,2),x=b[0],m=b[1],f=Object(n.useState)(!1),O=Object(i.a)(f,2),v=O[0],w=O[1],k=Object(j.g)(),S="create",C="Save",_="task created",I=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=K(r,o,S),!y(n)){e.next=4;break}return e.abrupt("return",m(n));case 4:return a={title:r,description:o},e.prev=5,w(!0),e.next=9,g.post("/tasks",a);case 9:if(200!==(s=e.sent).status||!0!==s.data.success){e.next=14;break}return w(!1),W("success",_),e.abrupt("return",k.push("/home"));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),w(!1),W("error",e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(D,{children:[Object(l.jsx)(M,{text:"Add a task",mt:8}),Object(l.jsxs)(Y,{handleSubmit:function(e){return I(e)},children:[Object(l.jsx)("div",{className:"mb-4",children:Object(l.jsx)(V,{placeHolder:"title",value:r,handleChange:function(e){return a(e.target.value)},focus:!0,error:null===x||void 0===x?void 0:x.title})}),Object(l.jsx)("div",{className:"mb-6",children:Object(l.jsx)(V,{placeHolder:"description",value:o,handleChange:function(e){return u(e.target.value)},error:null===x||void 0===x?void 0:x.description})}),Object(l.jsx)("div",{className:"flex justify-center",children:Object(l.jsx)(E,{name:C})})]}),v&&Object(l.jsx)(B,{children:Object(l.jsx)(N,{})})]})},Z=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(""),c=Object(i.a)(s,2),u=c[0],d=c[1],b=Object(n.useState)({}),x=Object(i.a)(b,2),m=x[0],f=x[1],O=Object(n.useState)(!1),v=Object(i.a)(O,2),w=v[0],k=v[1],S=Object(n.useContext)(o).tasks,C=Object(j.g)(),_=Object(j.h)().id,I="update",P="Save",T="task updated",A=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=K(r,u,I),!y(n)){e.next=4;break}return e.abrupt("return",f(n));case 4:return a={title:r,description:u},e.prev=5,k(!0),e.next=9,g.put("/tasks/".concat(_),a);case 9:if(200!==(s=e.sent).status||!0!==s.data.success){e.next=14;break}return k(!1),W("success",T),e.abrupt("return",C.push("/home"));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),k(!1),W("error",e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(y(S)){var e=S[_];a(e.title),d(e.description)}else Object.values(S).length}),[_,S]),Object(l.jsxs)(D,{children:[Object(l.jsx)(M,{text:"Update task",mt:8}),Object(l.jsxs)(Y,{handleSubmit:function(e){return A(e)},children:[Object(l.jsx)("div",{className:"mb-4",children:Object(l.jsx)(V,{placeHolder:"title",value:r,handleChange:function(e){return a(e.target.value)},focus:!0,error:null===m||void 0===m?void 0:m.title})}),Object(l.jsx)("div",{className:"mb-4",children:Object(l.jsx)(V,{placeHolder:"description",value:u,handleChange:function(e){return d(e.target.value)},error:null===m||void 0===m?void 0:m.description})}),Object(l.jsx)("div",{className:"flex justify-center",children:Object(l.jsx)(E,{name:P})})]}),w&&Object(l.jsx)(B,{children:Object(l.jsx)(N,{})})]})},ee=function(e){var t=e.setLoading,r=e.handleChangeComponent,a=Object(n.useContext)(o),s=a.dataProfile,c=a.setDataProfile,u=Object(n.useState)(""),d=Object(i.a)(u,2),b=d[0],j=d[1],m=Object(n.useState)(""),f=Object(i.a)(m,2),O=f[0],v=f[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),k=N[0],y=N[1],S=function(){var e=Object(p.a)(h.a.mark((function e(n){var a,i,l,o,u,d,j,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i=(a=function(e){return e.trim()?e:null})(b),l=a(O),o=a(k),u={fullname:i,location:l,bio:o},e.prev=6,t(!0),e.next=10,g.put("/profile/edit",u);case 10:if(200!==(d=e.sent).status||!0!==d.data.success){e.next=21;break}if(t(!1),j=d.data.data,m={fullname:j.fullname,location:j.location,bio:j.bio},c(Object(x.a)(Object(x.a)({},s),m)),!(null===(m.fullname||m.location||m.bio))){e.next=19;break}return e.abrupt("return",r(!1));case 19:return r(!1),e.abrupt("return",W("success",d.data.message));case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(6),t(!1),W("error",e.t0);case 27:case"end":return e.stop()}}),e,null,[[6,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s.fullname&&j(s.fullname),s.location&&v(s.location),s.bio&&y(s.bio)}),[s.fullname,s.location,s.bio]),Object(l.jsxs)(Y,{handleSubmit:function(e){return S(e)},children:[Object(l.jsx)("div",{className:"mb-6",children:Object(l.jsx)(V,{placeHolder:"fullname",value:b,handleChange:function(e){return j(e.target.value)}})}),Object(l.jsx)("div",{className:"mb-6",children:Object(l.jsx)(V,{placeHolder:"location",value:O,handleChange:function(e){return v(e.target.value)}})}),Object(l.jsx)("div",{className:"mb-6",children:Object(l.jsx)("textarea",{className:"resize-none shadow border rounded appearance-none w-full py-2 px-3 text-gray-700 leading-tight focus:border-blue-500 focus:outline-none focus:shadow-outline",placeholder:"add a bio",maxLength:"175",value:k,onChange:function(e){return y(e.target.value)}})}),Object(l.jsx)("div",{className:"mb-6",children:Object(l.jsx)(E,{name:"Save"})}),Object(l.jsx)("div",{children:Object(l.jsx)(E,{fn:function(){return r(!1)},name:"Cancel",color:"bg-gray-200",textColor:"text-gray-400",type:"button"})})]})},te=function(e){return/^[-a-z0-9~!$%^&*_=+}{?]+(\.[-a-z0-9~!$%^&*_=+}{?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(e)},re=function(){var e,t=Object(n.useState)(!1),r=Object(i.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(!1),u=Object(i.a)(c,2),d=u[0],b=u[1],j=Object(n.useState)(!1),m=Object(i.a)(j,2),h=m[0],p=m[1],f=Object(n.useContext)(o).dataProfile,O=f.username,v=f.fullname,g=f.location,w=f.bio,k=function(e){s(e),b(e)},y={setLoading:p,handleChangeComponent:k};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(U,{}),h&&Object(l.jsx)(B,{children:Object(l.jsx)(N,{})}),Object(l.jsx)("div",{className:"max-w-4xl flex items-center h-auto bg-scroll lg:h-screen flex-wrap mx-auto my-16 md:my-14 \n        ".concat(d?"lg:my-14":"lg:my-0"),children:Object(l.jsx)("div",{className:"w-full rounded-lg border border-t-0 shadow mx-6 lg:mx-0",children:Object(l.jsxs)("div",{className:"p-4 md:p-12 text-center",children:[Object(l.jsx)("div",{className:"overflow-hidden bg-white rounded-full border shadow-md mx-auto -mt-16 h-48 w-48  flex items-center justify-center ",children:Object(l.jsx)("h1",{className:"text-8xl text-transparent bg-clip-text bg-gradient-to-r from-blue-900 to-blue-700",children:O[0].toUpperCase()})}),!1===a?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"text-3xl font-bold pt-3 ",children:v&&(e=v,e.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()})))}),Object(l.jsx)("div",{className:"mx-auto  w-4/5 pt-3 border-b-2 border-blue-500 opacity-25"}),Object(l.jsx)("p",{className:"pt-4 text-base font-bold flex items-center justify-center ",children:O}),Object(l.jsx)("p",{className:"pt-2 text-gray-600 text-xs lg:text-sm flex items-center justify-center ",children:g||"Your location"}),Object(l.jsx)("p",{className:"pt-8 text-sm",children:w||"About you"}),Object(l.jsx)("div",{className:"pt-12 pb-8",children:Object(l.jsx)("button",{onClick:function(){return k(!0)},className:"p-2 px-14 sm:py-2 sm:px-20  bg-blue-900  text-white font-bold  rounded",children:"Edit Profile"})})]}):Object(l.jsx)("div",{className:"flex justify-center",children:Object(l.jsx)(ee,Object(x.a)({},y))})]})})})]})},ne=function(e){var t=e.id,r=e.username,a=e.email,s=e.rol,c=e.state,u=Object(n.useState)(!1),d=Object(i.a)(u,2),b=d[0],j=d[1],x=Object(n.useContext)(o),m=x.users,f=x.setUsers,O=function(){var e=Object(p.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=parseInt(t.target.dataset.id),e.prev=1,j(!0),e.next=5,g.delete("/admin/delete-user/".concat(r));case 5:if(200!==(n=e.sent).status||!0!==n.data.success){e.next=11;break}return j(!1),a=m.map((function(e){return e.id===r?{}:e})),f(a),e.abrupt("return",W("success","user disabled"));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),j(!1),W("error",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"flex flex-col space-y-1 sm:space-y-0 sm:flex sm:flex-row border bg-white rounded-lg shadow p-4 mb-8",children:[Object(l.jsx)("div",{className:"flex-1 sm:flex flex-col items-center",children:Object(l.jsxs)("div",{className:"flex items-center justify-between sm:block",children:[Object(l.jsx)("p",{className:"text-blue-900 text-lg font-medium text-black",children:"username"}),Object(l.jsx)("p",{className:"text-gray-500",children:r})]})}),Object(l.jsx)("div",{className:"flex-1 sm:flex flex-col items-center",children:Object(l.jsxs)("div",{className:"flex items-center justify-between sm:block",children:[Object(l.jsx)("p",{className:"text-blue-900 text-lg font-medium text-black",children:"email"}),Object(l.jsx)("p",{className:"text-gray-500",children:a})]})}),Object(l.jsx)("div",{className:"flex-1 sm:flex flex-col items-center",children:Object(l.jsxs)("div",{className:"flex items-center justify-between sm:block",children:[Object(l.jsx)("p",{className:"text-blue-900 text-lg font-medium text-black",children:"rol"}),Object(l.jsx)("p",{className:"text-gray-500",children:s})]})}),Object(l.jsx)("div",{className:"flex-1 sm:flex flex-col items-center",children:Object(l.jsxs)("div",{className:"flex items-center justify-between sm:block",children:[Object(l.jsx)("p",{className:"text-blue-900 text-lg font-medium text-black",children:"state"}),Object(l.jsxs)("div",{className:"text-gray-500 flex justify-between items-center",children:[Object(l.jsx)("p",{className:"text-gray-500 pr-1",children:c?"active":"deleted"}),Object(l.jsx)("p",{className:"\n              ".concat(c?"bg-green-400":"bg-red-500"," rounded-full h-3 w-3")})]})]})}),c?Object(l.jsx)("div",{className:"flex-1 flex justify-center pt-3 sm:pt-0 sm:flex justify-center items-center",children:b?Object(l.jsx)(N,{size:6,mb:0,border:2}):Object(l.jsx)("button",{"data-id":t,onClick:function(e){return O(e)},className:" w-full py-2 sm:w-auto sm:px-7 sm:py-1.5  text-white text-xs font-bold rounded-lg bg-red-600",children:"eliminar"})}):""]})},ae=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),r=t[0],a=t[1],s=Object(n.useContext)(o),c=s.users,u=s.setUsers,d=function(){var e=Object(p.a)(h.a.mark((function e(){var t,r,n,s,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,e.prev=1,a(!0),e.next=5,g.get("/admin/users");case 5:if(200!==(r=e.sent).status||!0!==r.data.success){e.next=11;break}return a(!1),n=r.data.data,s=n.filter((function(e){return e.state===t})),e.abrupt("return",u(s));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a(!1),W("error",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(U,{}),r&&Object(l.jsx)(B,{children:Object(l.jsx)(N,{})}),Object(l.jsx)("header",{className:"bg-white shadow",children:Object(l.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:Object(l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"})})}),Object(l.jsx)("main",{children:Object(l.jsxs)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[Object(l.jsxs)("div",{className:"px-4 sm:px-0 w-full space-x-4",children:[Object(l.jsx)("button",{onClick:function(){return d()},className:"rounded-lg bg-blue-900 py-1 px-5",children:Object(l.jsx)("p",{className:"text-white font-semibold",children:"active users"})}),Object(l.jsx)("button",{onClick:function(){return d(0)},className:"border border-blue-900 rounded-lg py-1 px-5",children:Object(l.jsx)("p",{className:"text-blue-900 font-semibold",children:"deleted users"})})]}),Object(l.jsx)("div",{className:"px-4 py-6 sm:px-0",children:c.map((function(e){if(0!==Object.values(e).length)return Object(l.jsx)(ne,Object(x.a)({},e),e.id)}))})]})})]})},se=function(){var e=_();return Object(l.jsx)(b.a,{children:Object(l.jsxs)(j.d,{children:[Object(l.jsx)(j.b,{exact:!0,path:"/home",children:Object(l.jsx)(G,{})}),Object(l.jsx)(j.b,{path:"/create",children:Object(l.jsx)(X,{})}),Object(l.jsx)(j.b,{path:"/task/:id",children:Object(l.jsx)(Z,{})}),Object(l.jsx)(j.b,{path:"/profile",children:Object(l.jsx)(re,{})}),Object(l.jsx)(j.b,{path:"/dashboard",render:function(){return 1===e.rol?Object(l.jsx)(ae,{}):Object(l.jsx)(j.a,{to:"/home"})}})]})})},ce=(r(67),r.p+"static/media/todo.24c71ee1.svg"),ie=r.p+"static/media/wave.c8ac1856.svg",le=function(){return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsxs)("nav",{className:"nav container",children:[Object(l.jsx)("figure",{className:"nav__picture",children:Object(l.jsx)("img",{alt:"todoApp",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",className:"nav__img"})}),Object(l.jsxs)("ul",{className:"nav__links",children:[Object(l.jsx)("li",{children:Object(l.jsx)(b.b,{to:"login",className:"nav__link",children:"Sign In"})}),Object(l.jsx)("li",{children:Object(l.jsx)(b.b,{to:"signup",className:"nav__link nav__link--border",children:"Sign Up"})})]})]}),Object(l.jsxs)("section",{className:"header__main container",children:[Object(l.jsxs)("div",{className:"info__container",children:[Object(l.jsx)("h1",{className:"info__title",children:"Start adding tasks to do"}),Object(l.jsx)("p",{className:"info__paragraph",children:"Any task to do"}),Object(l.jsx)(b.b,{to:"signup",className:"info__btn",children:"Get started"})]}),Object(l.jsx)("figure",{className:"header__picture",children:Object(l.jsx)("img",{alt:"todoApp",src:ce,className:"header__img"})})]}),Object(l.jsx)("div",{className:"header__wave",children:Object(l.jsx)("img",{alt:"todoApp",src:ie})})]})},oe=r(34),ue=r.n(oe),de=r.p+"static/media/google.12a2cff2.svg",be=function(e){var t=e.message,r=e.color,n=void 0===r?"red":r,a=e.fn;return Object(l.jsxs)("div",{className:"transition duration-500 ease-in-out ease-in-out flex justify-around items-center py-3 mb-4 border border-".concat(n,"-300 rounded bg-").concat(n,"-500 bg-opacity-25"),children:[Object(l.jsx)("p",{className:"text-".concat(n,"-500 font-normal text-sm"),children:t}),Object(l.jsx)("button",{onClick:a,className:"text-".concat(n,"-500 font-semibold"),children:"x"})]})},je=function(e){var t=e.text,r=void 0===t?"App":t,n=e.href,a=void 0===n?"/":n;return Object(l.jsx)(b.b,{to:a,children:Object(l.jsx)("div",{className:"rounded-full h-16 w-16 flex items-center justify-center bg-gradient-to-r from-blue-900 to-blue-700 mb-3",children:Object(l.jsx)("p",{className:"text-white font-bold",children:r})})})},xe=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(""),c=Object(i.a)(s,2),u=c[0],d=c[1],b=Object(n.useState)({}),x=Object(i.a)(b,2),m=x[0],f=x[1],O=Object(n.useState)(!1),v=Object(i.a)(O,2),w=v[0],y=v[1],S=Object(n.useState)(!1),C=Object(i.a)(S,2),_=C[0],I=C[1],P=Object(n.useContext)(o),T=P.setToken,A=P.getRol,F=Object(j.g)(),z="login",L="Login",q=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,a,s,c,i,l,o,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=Q(r,"email required"),a=Q(u,"password required",z,"invalida password, password must contain 6 characters"),(s={email:n.field,password:a.field}).email||te(r)||(s.email="invalid email"),!s.email&&!s.password){e.next=6;break}return e.abrupt("return",f(s));case 6:return e.prev=6,f({}),I(!0),c={email:r,password:u},e.next=12,g.post("/login",c);case 12:if(200!==(i=e.sent).status){e.next=27;break}if(I(!1),!1!==(l=i.data).success){e.next=18;break}return e.abrupt("return",y(!0));case 18:if(o=l.token,d=l.refreshToken,window.localStorage.setItem("token",o),window.localStorage.setItem("refresh",d),T(o),1!==A(o)){e.next=26;break}return e.abrupt("return",F.push("/dashboard"));case 26:return e.abrupt("return",F.push("/home"));case 27:e.next=35;break;case 29:if(e.prev=29,e.t0=e.catch(6),I(!1),!e.t0.response){e.next=34;break}return e.abrupt("return",W("error",e.t0.response.data.message));case 34:W("error",e.t0.message);case 35:case"end":return e.stop()}}),e,null,[[6,29]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(p.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),e.next=4,g.post("/auth/google",{token:t.tokenId});case 4:if(200!==(r=e.sent).status){e.next=12;break}return I(!1),n=r.data,window.localStorage.setItem("token",n.token),window.localStorage.setItem("refresh",n.refreshToken),T(n.token),e.abrupt("return",F.push("/home"));case 12:e.next=20;break;case 14:if(e.prev=14,e.t0=e.catch(0),I(!1),!e.t0.response){e.next=19;break}return e.abrupt("return",W("error",e.t0.response.data.message));case 19:W("error",e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return w&&setTimeout((function(){y(!1)}),5e3),Object(l.jsxs)(D,{center:!0,showNavigation:!1,children:[Object(l.jsx)(je,{}),Object(l.jsx)(k,{text:"Sign in to App"}),Object(l.jsx)("div",{className:"w-full max-w-xs",children:w&&Object(l.jsx)(be,{message:"Incorrect username or password.",fn:function(){return y(!1)}})}),Object(l.jsxs)(Y,{mt:0,handleSubmit:function(e){return q(e)},children:[Object(l.jsx)("div",{className:"mb-6",children:Object(l.jsx)(V,{label:"Email",placeHolder:"example@gmail.com",value:r,handleChange:function(e){return a(e.target.value)},focus:!0,type:"email",error:null===m||void 0===m?void 0:m.email})}),Object(l.jsx)("div",{className:"mb-6",children:Object(l.jsx)(V,{label:"Password",placeHolder:"password",value:u,handleChange:function(e){return d(e.target.value)},type:"password",error:null===m||void 0===m?void 0:m.password})}),Object(l.jsx)("div",{className:"flex justify-center ",children:Object(l.jsx)(E,{name:L})}),Object(l.jsxs)("div",{className:"w-full flex items-center justify-between pt-5",children:[Object(l.jsx)("hr",{className:"w-full bg-gray-400"}),Object(l.jsx)("p",{className:"  leading-4 px-2.5 text-gray-400",children:"Or"}),Object(l.jsx)("hr",{className:"w-full bg-gray-400  "})]}),Object(l.jsx)("div",{className:"flex justify-center mt-5",children:Object(l.jsx)(ue.a,{clientId:"178093425877-7s9eai5qtqd60e0rig6r4e826cfe3tel.apps.googleusercontent.com",render:function(e){return Object(l.jsxs)("button",{onClick:e.onClick,disabled:e.disabled,className:"py-2.5 px-4 border shadow rounded-lg flex items-center w-full",children:[Object(l.jsx)("img",{alt:"google",src:de}),Object(l.jsx)("p",{className:"text-sm sm:text-base font-bold ml-4 text-gray-600",children:"Continue with Google"})]})},onSuccess:H,onFailure:function(e){"access denied"===e.error.split("_").join(" ")&&W("warning","The user denied the permission to the scopes required")},cookiePolicy:"single_host_origin"})})]}),_&&Object(l.jsx)(B,{children:Object(l.jsx)(N,{})})]})},me=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(""),c=Object(i.a)(s,2),o=c[0],u=c[1],d=Object(n.useState)(""),b=Object(i.a)(d,2),j=b[0],x=b[1],m=Object(n.useState)({}),f=Object(i.a)(m,2),O=f[0],v=f[1],w=Object(n.useState)(!1),k=Object(i.a)(w,2),y=k[0],S=k[1],C=Object(n.useState)(!1),_=Object(i.a)(C,2),I=_[0],P=_[1],T=Object(n.useState)(1),A=Object(i.a)(T,2),F=A[0],z=A[1],L=Object(n.useState)(null),q=Object(i.a)(L,2),H=q[0],U=q[1],M=Object(n.useState)(!1),R=Object(i.a)(M,2),J=R[0],$=R[1],G="register",K=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,a,s,c,i,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=Q(r,"email required"),a=Q(o,"password required",G,"invalid password, password must contain 6 characters"),s=Q(j,"username required",G,"username must contain at least 3 characters",3),(c={email:n.field,password:a.field,username:s.field}).email||te(r)||(c.email="invalid email"),c.username||/\s/.test(j)&&(c.username="Usernames can only contain letters, numbers, underscores, and periods."),!(c.email||c.password||c.username)){e.next=9;break}return e.abrupt("return",v(c));case 9:return i={email:r,password:o,username:j},e.prev=10,v({}),$(!0),e.next=15,g.post("/register",i);case 15:if(200!==(l=e.sent).status){e.next=31;break}if($(!1),"Email already registered"!==(u=l.data).message){e.next=25;break}return S(!0),c.email=u.message,e.abrupt("return",v(c));case 25:if("username not available"!==u.message){e.next=28;break}return c.username=u.message,e.abrupt("return",v(c));case 28:return v({}),U(u.data.randomValue),e.abrupt("return",P(!0));case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(10),$(!1),W("error",e.t0.message);case 37:case"end":return e.stop()}}),e,null,[[10,33]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(F+1),!(F>3)){e.next=3;break}return e.abrupt("return",W("warning","please, check your email"));case 3:return e.prev=3,e.next=6,g.post("/resend-email",{email:r,username:j,randomValue:H});case 6:if(200!==e.sent.status){e.next=9;break}return e.abrupt("return",W("success","email sent"));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),W(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return y&&setTimeout((function(){S(!1)}),4e3),Object(l.jsxs)(D,{center:!0,showNavigation:!1,children:[I?Object(l.jsx)("div",{className:"w-full max-w-xs mt-3",children:Object(l.jsxs)("div",{className:"text-center bg-white border shadow-md rounded-lg px-8 pt-6 pb-8 mb-4",children:[Object(l.jsx)("i",{className:"far fa-envelope-open",style:{fontSize:50,paddingTop:15,paddingBottom:20,color:"#1e3a8a"}}),Object(l.jsx)("p",{className:"text-center w-full text-2xl mb-4 text-blue-900",children:"Check your email"}),Object(l.jsxs)("p",{className:"pb-3",children:["We have sent an email to ",Object(l.jsxs)("b",{className:"text-gray-800",children:[r," "]}),"to complete the registration. Didn't get your email?",Object(l.jsx)("button",{className:"text-blue-900 pl-1",onClick:function(){return X()},children:"resend the code"})]})]})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(je,{}),Object(l.jsx)("p",{className:"text-center w-full text-2xl mb-4",children:"Sign up to App"}),Object(l.jsx)("div",{className:"w-full max-w-xs ",children:y&&Object(l.jsx)(be,{message:"the email has already been registered",fn:function(){return S(!1)}})}),Object(l.jsxs)(Y,{mt:0,handleSubmit:function(e){return K(e)},children:[Object(l.jsx)("div",{className:"mb-6",children:Object(l.jsx)(V,{label:"Email",placeHolder:"example@gmail.com",type:"email",value:r,handleChange:function(e){return a(e.target.value)},focus:!0,error:null===O||void 0===O?void 0:O.email})}),Object(l.jsx)("div",{className:"mb-6",children:Object(l.jsx)(V,{label:"Password",placeHolder:"password",type:"password",value:o,handleChange:function(e){return u(e.target.value)},error:null===O||void 0===O?void 0:O.password})}),Object(l.jsx)("div",{className:"mb-6",children:Object(l.jsx)(V,{label:"Username",placeHolder:"username",value:j,handleChange:function(e){return x(e.target.value)},error:null===O||void 0===O?void 0:O.username})}),Object(l.jsx)("div",{className:"flex justify-center",children:Object(l.jsx)(E,{name:"Sign up"})})]})]}),J&&Object(l.jsx)(B,{children:Object(l.jsx)(N,{})})]})},he=function(){var e=Object(n.useContext)(o).setToken,t=Object(j.h)().id,r=Object(j.g)(),a=function(){var n=Object(p.a)(h.a.mark((function n(){var a,s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.get("/verify-email/".concat(t));case 3:if(200!==(a=n.sent).status){n.next=13;break}if(s=a.data,window.localStorage.setItem("token",s.token),window.localStorage.setItem("refresh",s.refreshToken),e(s.token),!0!==s.success||!s.message){n.next=12;break}return W("success",s.message),n.abrupt("return",r.push("/login"));case 12:return n.abrupt("return",r.push("/home"));case 13:n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(0),W("error",n.t0.message),n.abrupt("return",r.push("/login"));case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(){return n.apply(this,arguments)}}();return Object(n.useEffect)((function(){a()}),[]),Object(l.jsxs)(w,{children:[Object(l.jsx)(N,{}),Object(l.jsx)("h2",{className:"text-blue-900 text-center text-xl font-semibold",children:"Todo App"})]})},pe=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(U,{}),Object(l.jsx)("header",{className:"bg-white shadow",children:Object(l.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:Object(l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"404 Not Found"})})}),Object(l.jsx)("main",{children:Object(l.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:Object(l.jsx)("div",{className:"px-4 py-6 sm:px-0",children:Object(l.jsx)("div",{className:"border-4 border-dashed border-gray-200 rounded-lg h-96"})})})})]})},fe=function(){return Object(l.jsx)(b.a,{children:Object(l.jsxs)(j.d,{children:[Object(l.jsx)(j.b,{exact:!0,path:"/",children:Object(l.jsx)(le,{})}),Object(l.jsx)(j.b,{path:"/login",children:Object(l.jsx)(xe,{})}),Object(l.jsx)(j.b,{path:"/signup",children:Object(l.jsx)(me,{})}),Object(l.jsx)(j.b,{path:"/confirm/:id",children:Object(l.jsx)(he,{})}),Object(l.jsx)(j.b,{path:"*",children:Object(l.jsx)(pe,{})})]})})},Oe=function(){return Object(l.jsx)(b.a,{children:Object(l.jsxs)(j.d,{children:[Object(l.jsx)(C,{path:"/home",children:Object(l.jsx)(se,{})}),Object(l.jsx)(P,{path:"/",children:Object(l.jsx)(fe,{})})]})})};var ve=function(){return Object(l.jsxs)(u,{children:[Object(l.jsx)(Oe,{}),Object(l.jsx)(d.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0})]})},ge=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,69)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(ve,{})}),document.getElementById("root")),ge()}},[[68,1,2]]]);
//# sourceMappingURL=main.0c77d226.chunk.js.map